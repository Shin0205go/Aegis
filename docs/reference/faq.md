# よくある質問 (FAQ)

AEGISに関してよく寄せられる質問と回答をまとめています。

## 一般的な質問

### Q: AEGISとは何ですか？

**A:** AEGIS (Agent Governance & Enforcement Intelligence System) は、AIエージェントのアクセス制御を自然言語ポリシーで管理できるシステムです。従来の複雑なXMLベースのポリシーではなく、日本語や英語の自然な文章でセキュリティルールを記述できます。

### Q: なぜAEGISが必要なのですか？

**A:** AIエージェントの普及により、以下の課題が生じています：
- 複数のAIツールが様々なデータにアクセスする状況の管理
- セキュリティとユーザビリティのバランス
- コンプライアンス要件への対応
- 監査証跡の確保

AEGISはこれらの課題を、自然言語による直感的なポリシー管理で解決します。

### Q: 従来のアクセス制御システムとの違いは？

**A:** 主な違いは以下の通りです：

| 項目 | 従来システム | AEGIS |
|------|-------------|--------|
| ポリシー記述 | XML/JSON | 自然言語 |
| 判定方式 | ルールベース | AI駆動 |
| 統合方法 | アプリ改修必要 | 透明プロキシ |
| 管理者 | 技術者のみ | 誰でも可能 |
| 柔軟性 | 事前定義のみ | 動的推論 |

## セットアップに関する質問

### Q: AEGISの導入に必要な環境は？

**A:** 以下の環境が必要です：
- Node.js v20以上
- 4GB以上のメモリ（推奨8GB）
- LLMプロバイダーのAPIキー（Anthropic ClaudeまたはOpenAI）
- Claude Desktop（オプション、推奨）

### Q: インストールにはどのくらい時間がかかりますか？

**A:** 基本的なインストールは5-10分程度で完了します：
1. リポジトリのクローン: 1分
2. 依存関係のインストール: 3-5分
3. 環境設定: 2分
4. 動作確認: 2分

### Q: Claude Desktopとの統合は必須ですか？

**A:** いいえ、必須ではありません。AEGISは以下の方法で利用できます：
- Claude Desktop統合（推奨）
- スタンドアロンMCPプロキシ
- REST API経由での直接利用
- SDK経由でのプログラマティック利用

### Q: 既存のMCPサーバーはそのまま使えますか？

**A:** はい、使えます。AEGISは透明プロキシとして動作するため、既存のMCPサーバーの設定を`aegis-mcp-config.json`に移すだけで、ポリシー制御が適用されます。

## ポリシーに関する質問

### Q: ポリシーはどのように書けばいいですか？

**A:** 自然な日本語で記述できます。基本的な構造は：

```
【ポリシー名】

基本原則：
- 主要な方針をここに記述

許可条件：
- どのような場合にアクセスを許可するか

制限事項：
- どのような場合にアクセスを拒否するか

必須対応：
- アクセス時に実行すべきアクション
```

詳細は[ポリシー記述ガイド](../user-guide/policy-writing.md)を参照してください。

### Q: ポリシーの判定精度はどの程度ですか？

**A:** LLMの性能に依存しますが、通常95%以上の精度で意図通りの判定が行われます。精度向上のために：
- 明確で具体的な記述を心がける
- 曖昧な表現を避ける
- テスト機能で事前確認する

### Q: ポリシーは何個まで作成できますか？

**A:** 制限はありませんが、パフォーマンスの観点から以下を推奨します：
- アクティブなポリシー: 50個以下
- 合計ポリシー数: 200個以下
- 各ポリシーのサイズ: 5KB以下

### Q: ポリシーの優先順位はどう決まりますか？

**A:** 以下の順序で適用されます：
1. より具体的なポリシー（エージェント名やリソース名が明示的）
2. 新しく作成されたポリシー
3. "default"タグが付いたポリシー

## セキュリティに関する質問

### Q: APIキーは安全に管理されますか？

**A:** はい、以下の対策を実施しています：
- 環境変数での管理（ファイルに直接記載しない）
- 監査ログでのマスキング
- メモリ内での暗号化（オプション）
- 定期的なローテーション推奨

### Q: 監査ログは改ざんできませんか？

**A:** 以下の機能で改ざんを防止します：
- デジタル署名（オプション）
- 暗号化保存
- イミュータブルストレージ対応
- リアルタイムバックアップ

### Q: 個人情報はどのように保護されますか？

**A:** 複数のレイヤーで保護します：
- 自然言語ポリシーによるアクセス制御
- データ匿名化プロセッサ
- 暗号化通信（TLS）
- 監査ログの暗号化

## パフォーマンスに関する質問

### Q: レスポンスタイムはどの程度ですか？

**A:** 典型的なレスポンスタイム：
- キャッシュヒット時: 10-20ms
- 新規判定（LLM使用）: 100-200ms
- 複雑なポリシー: 200-500ms

### Q: 何リクエスト/秒まで処理できますか？

**A:** 環境により異なりますが：
- 単一インスタンス: 1,000 req/sec
- クラスター構成: 10,000+ req/sec
- キャッシュ有効時: 50,000+ req/sec

### Q: メモリ使用量はどの程度ですか？

**A:** 典型的な使用量：
- 基本構成: 500MB-1GB
- 大規模環境: 2-4GB
- キャッシュ込み: 4-8GB

## トラブルシューティング

### Q: "LLM_TIMEOUT" エラーが出ます

**A:** 以下を確認してください：
1. APIキーが正しく設定されているか
2. ネットワーク接続が正常か
3. LLMプロバイダーのステータス
4. タイムアウト値を増やす（`LLM_TIMEOUT=30000`）

### Q: ポリシーが適用されません

**A:** 以下を確認してください：
1. ポリシーファイルが正しい場所にあるか
2. ポリシーの構文が正しいか
3. `npm run validate-policies` でエラーがないか
4. ポリシーのリロード（`/api/admin/reload-policies`）

### Q: Claude Desktopでツールが表示されません

**A:** 以下を確認してください：
1. `claude_desktop_config.json` のパスが正しいか
2. AEGISサーバーが起動しているか
3. ログにエラーがないか（`logs/mcp-launcher.log`）
4. Claude Desktopを再起動

### Q: 監査ログが出力されません

**A:** 以下を確認してください：
1. `logs/audit/` ディレクトリが存在し、書き込み権限があるか
2. ディスク容量が十分か
3. `LOG_LEVEL` が適切に設定されているか
4. ログローテーション設定

## 運用に関する質問

### Q: バックアップはどのように取ればいいですか？

**A:** 以下のデータをバックアップしてください：
- ポリシーファイル（`policies/` ディレクトリ）
- 設定ファイル（`.env`, `aegis-mcp-config.json`）
- 監査ログ（`logs/audit/`）※必要に応じて

推奨バックアップ頻度：
- ポリシー: 変更時即座
- 設定: 週次
- 監査ログ: 日次

### Q: アップグレードはどのように行いますか？

**A:** 以下の手順で行います：
1. 現在のバージョンのバックアップ
2. テスト環境での動作確認
3. `npm update` または新バージョンのダウンロード
4. データベースマイグレーション（必要な場合）
5. 段階的なロールアウト

### Q: 監視はどのように設定しますか？

**A:** 以下の監視ポイントを推奨：
- ヘルスチェック（`/health`）
- メトリクス（`/metrics`）
- エラーログ
- レスポンスタイム
- CPU/メモリ使用率

詳細は[監視・ログ管理](../admin-guide/monitoring.md)を参照してください。

## ライセンスと商用利用

### Q: AEGISは無料で使えますか？

**A:** はい、MITライセンスの下でオープンソースとして提供されています。商用利用も可能です。

### Q: サポートは受けられますか？

**A:** 以下のサポートオプションがあります：
- コミュニティサポート（GitHub Issues）
- 有償エンタープライズサポート（計画中）
- プロフェッショナルサービス（計画中）

### Q: コントリビューションはできますか？

**A:** はい、歓迎します！詳細は[CONTRIBUTING.md](../../CONTRIBUTING.md)を参照してください。

## その他の質問

### Q: 他のAIプロバイダーに対応予定はありますか？

**A:** はい、以下を計画しています：
- Google Gemini（2025 Q3）
- Amazon Bedrock（2025 Q4）
- Azure OpenAI（2025 Q4）
- ローカルLLM（2026 Q1）

### Q: マルチ言語対応の予定はありますか？

**A:** はい、以下の言語を計画しています：
- 英語（2025 Q4）
- 中国語（2026 Q1）
- スペイン語（2026 Q1）

### Q: モバイルアプリはありますか？

**A:** 現在はありませんが、2026年Q2にiOS/Androidアプリをリリース予定です。

---

## 質問が解決しない場合

上記のFAQで解決しない場合は、以下のリソースをご利用ください：

1. **詳細ドキュメント**: 各種ガイドを確認
2. **GitHub Issues**: 既存の問題を検索、新規作成
3. **コミュニティ**: Slackチャンネル #aegis-support
4. **商用サポート**: enterprise@aegis-project.org

新しい質問は随時FAQに追加していきます。