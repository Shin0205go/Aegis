# ============================================================================
# AEGIS 環境変数設定例
# このファイルを .env にコピーして、実際の値を設定してください
# ============================================================================

# AI判定エンジン設定
# プロバイダー: 現在は 'anthropic' のみサポート
LLM_PROVIDER=anthropic

# LLMモデル名
# OpenAI: gpt-4-turbo-preview, gpt-4 など
# Anthropic: claude-opus-4-20250514, claude-3-5-sonnet-20241022 など
LLM_MODEL=claude-opus-4-20250514

# APIキー（必須）
ANTHROPIC_API_KEY=your-anthropic-api-key-here
# OpenAIは現在未サポート
# OPENAI_API_KEY=your-openai-api-key-here

# LLM詳細設定
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=4096

# AI判定閾値設定（0.0-1.0）
# AIの判定において必要な信頼度の閾値
# 低い値（例: 0.7）は制限を緩和し、高い値（例: 0.9）は制限を厳格化
# デフォルト: 0.7
AEGIS_AI_THRESHOLD=0.7

# カスタムエンドポイント（オプション）
# OPENAI_BASE_URL=https://api.openai.com/v1
# ANTHROPIC_BASE_URL=https://api.anthropic.com

# AEGIS MCP設定ファイルパス（オプション）
# AEGIS_MCP_CONFIG=/workspace/aegis-mcp-config.json

# サーバー設定
PORT=3000
HOST=0.0.0.0  # 0.0.0.0 = すべてのインターフェース, 127.0.0.1 = localhostのみ

# ログ設定
# レベル: debug, info, warn, error
LOG_LEVEL=info
# フォーマット: json, text
LOG_FORMAT=json
# ログファイルパス（オプション）
LOG_FILE_PATH=./logs/aegis.log

# キャッシュ設定
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# Redis設定（キャッシュ用、オプション）
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# データベース設定（ポリシー永続化用、オプション）
# DATABASE_URL=postgresql://user:password@localhost:5432/aegis

# セキュリティ設定
# JWT秘密鍵（管理API認証用）
# JWT_SECRET=your-jwt-secret-key

# CORS設定
# CORS_ORIGINS=http://localhost:3000,https://app.example.com

# レート制限設定
# RATE_LIMIT_WINDOW_MS=60000
# RATE_LIMIT_MAX_REQUESTS=100

# 上流MCPサーバー設定（カンマ区切りで複数指定可能）
# MCP公式仕様: stdio/Streamable HTTPトランスポートを使用

# stdioトランスポート用（コマンドで起動）
# Claude Desktop設定から自動読み込み（デフォルト）
# CLAUDE_DESKTOP_CONFIG=/custom/path/to/claude_desktop_config.json

# 追加サーバーの手動設定（オプション）
# UPSTREAM_SERVERS_STDIO=extra:node /path/to/extra-mcp.js

# HTTPトランスポート用（HTTPエンドポイント）
# UPSTREAM_SERVERS_HTTP=gmail:http://localhost:8081,gdrive:http://localhost:8082

# 旧WebSocket実装用（非推奨）
# MCP_UPSTREAM_SERVERS=gmail:ws://localhost:8081/mcp,gdrive:ws://localhost:8082/mcp
# UPSTREAM_SERVERS=gmail:ws://localhost:8081/mcp,gdrive:ws://localhost:8082/mcp

# モニタリング設定
# METRICS_ENABLED=true
# METRICS_PORT=9090

# 開発環境設定
NODE_ENV=development
# DEBUG=aegis:*

# プロキシ設定（企業環境用）
# HTTP_PROXY=http://proxy.example.com:8080
# HTTPS_PROXY=http://proxy.example.com:8080
# NO_PROXY=localhost,127.0.0.1